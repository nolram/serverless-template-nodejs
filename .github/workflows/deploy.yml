name: Deploy with Serveless Framework on AWS

on:
  push:
    branches:
      - main

env:
  AWS_REGION: us-east-1                   # set this to your preferred AWS region, e.g. us-west-1

permissions:
  contents: read

jobs:
  deploy:
    name: Deploy
    runs-on: ubuntu-latest
    environment: production
    
    steps:
    - name: Checkout
      uses: actions/checkout@v3

    - name: Workflow
      uses: nolram/github-actions/.github/workflows/serverless-cicd.yml@main
      with:
        AWS_REGION: ${{ env.AWS_REGION }}
        secrets: inherit
